"use strict";(self.webpackChunkmicahel_website_frontend=self.webpackChunkmicahel_website_frontend||[]).push([[623],{2623:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var n=t(4942),s=t(5671),r=t(3144),l=t(7326),i=t(136),o=t(8557),c=t(4569),d=t.n(c),u=t(2791),h=t(9922),p=t(184),m=t(2808),f=t.n(m),b=function(e){(0,i.Z)(t,e);var a=(0,o.Z)(t);function t(e){var n;return(0,s.Z)(this,t),(n=a.call(this,e)).state={email:"",password:""},n.handleChange=n.handleChange.bind((0,l.Z)(n)),n.handleSubmit=n.handleSubmit.bind((0,l.Z)(n)),n.clearForm=n.clearForm.bind((0,l.Z)(n)),n}return(0,r.Z)(t,[{key:"handleChange",value:function(e){var a=e.target,t=a.value,s=a.name;this.setState((0,n.Z)({},s,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(e);var a=f().stringify({username:this.state.email,password:this.state.password});""==this.state.email&""==this.state.password?alert("Please input email and password"):d().post("http://".concat("127.0.0.1",":").concat(8e3,"/v2/login/"),a,{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}).then((function(e){var a;200===e.status?(a=e.data,localStorage.setItem("authToken",JSON.stringify(a))):(alert("Unknown error happened, please try again later or inspect console log for debugging"),console.log("result"))})).catch((function(e){401==e.response.status&&alert("In correct username or password")}))}},{key:"clearForm",value:function(){this.setState({email:"",password:""})}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)("form",{className:"needs-validation",noValidate:!0,onSubmit:this.handleSubmit,children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),(0,p.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:!0,placeholder:"Enter email",value:this.state.email,onChange:this.handleChange})]}),(0,p.jsxs)("div",{className:"form-group",style:{paddingTop:40},children:[(0,p.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),(0,p.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1",required:!0,placeholder:"Password",value:this.state.password,onChange:this.handleChange})]}),(0,p.jsxs)("div",{style:{marginTop:40},children:[(0,p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),(0,p.jsx)("button",{type:"button",className:"btn btn-secondary float-right col-auto",onClick:this.clearForm,children:"Cancel"})]})]})})})}}]),t}(u.Component),g=function(){return(0,p.jsx)(h.Z,{title:"Login",description:"Secret login page only Michael and approved person can access",children:(0,p.jsx)("div",{className:"d-flex justify-content-center flex-nowrap",children:(0,p.jsx)(b,{})})})}}}]);
//# sourceMappingURL=623.3ac46ee4.chunk.js.map